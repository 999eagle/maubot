// maubot - A plugin-based Matrix bot system.
// Copyright (C) 2018 Tulir Asokan
//
// This program is free software: you can redistribute it and/or modify
// it under the terms of the GNU Affero General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU Affero General Public License for more details.
//
// You should have received a copy of the GNU Affero General Public License
// along with this program.  If not, see <https://www.gnu.org/licenses/>.

> .client
    margin: 1rem
    display: flex

    > div.sidebar
        vertical-align: top
        text-align: center
        width: 8rem

        > div
            margin-bottom: 1rem

        > div.avatar-container
            position: relative
            width: 8rem
            height: 8rem
            border-radius: 50%
            overflow: hidden

            display: flex
            align-items: center
            justify-content: center

            > img.avatar
                position: absolute
                display: block
                max-width: 8rem
                max-height: 8rem
                user-select: none

            > svg.upload
                position: absolute
                display: block
                visibility: hidden

                width: 6rem
                height: 6rem

                padding: 1rem
                user-select: none

            > input.file-selector
                position: absolute
                width: 8rem
                height: 8rem
                user-select: none
                opacity: 0

            > div.spinner
                +thick-spinner

            &:not(.uploading)
                > input.file-selector
                    cursor: pointer

                &:hover, &.drag
                    > img.avatar
                        opacity: .25

                    > svg.upload
                        visibility: visible

                &.no-avatar
                    > img.avatar
                        visibility: hidden

                    > svg.upload
                        visibility: visible
                        opacity: .5

            &.uploading
                > img.avatar
                    opacity: .25

        > div.started-container
            display: inline-flex

            > span.started
                display: inline-block
                height: 0
                width: 0
                border-radius: 50%
                margin: .5rem

                &.true
                    background-color: $primary
                    box-shadow: 0 0 .75rem .75rem $primary

                &.false
                    background-color: $error-light
                    box-shadow: 0 0 .75rem .75rem $error-light

                    &.disabled
                        background-color: $border-color
                        box-shadow: 0 0 .75rem .75rem $border-color

            > span.text
                display: inline-block
                margin-left: 1rem

    > div.info-container
        vertical-align: top

        margin: 0 1rem
        flex: 1

        > .buttons
            display: flex

            +button-group

        > .error
            margin-top: 1rem
            +notification($error)

            &:empty
                display: none

    button.save, button.delete
        +button
        +main-color-button
        width: 100%
        height: 2.5rem
        padding: 0

        > .spinner
            +thick-spinner
            +white-spinner
            width: 2rem
